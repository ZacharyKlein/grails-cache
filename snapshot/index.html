<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<title>My Title</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
body{-webkit-font-smoothing:antialiased}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
body{tab-size:4}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>My Title</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#introduction">Introduction To The Cache Plugin</a>
<ul class="sectlevel2">
<li><a href="#changeLog">Change log</a></li>
<li><a href="#_version_1_1_7_june_24_2014">Version 1.1.7 - June 24, 2014</a></li>
<li><a href="#_version_1_1_6_may_9_2014">Version 1.1.6 - May 9, 2014</a></li>
<li><a href="#_version_1_1_5_april_25_2014">Version 1.1.5 - April 25, 2014</a></li>
<li><a href="#_version_1_1_4_april_25_2014">Version 1.1.4 - April 25, 2014</a></li>
<li><a href="#_version_1_1_3_april_24_2014">Version 1.1.3 - April 24, 2014</a></li>
<li><a href="#_version_1_1_2_april_23_2014">Version 1.1.2 - April 23, 2014</a></li>
<li><a href="#_version_1_1_1_july_3_2013">Version 1.1.1 - July 3, 2013</a></li>
<li><a href="#_version_1_1_july_3_2013">Version 1.1 - July 3, 2013</a></li>
<li><a href="#_version_1_0_1_october_28_2012">Version 1.0.1 - October 28, 2012</a></li>
<li><a href="#_version_1_0_0_july_4_2012">Version 1.0.0 - July 4, 2012</a></li>
<li><a href="#_version_1_0_0_rc1_may_22_2012">Version 1.0.0.RC1 - May 22, 2012</a></li>
<li><a href="#_version_1_0_0_m2_may_12_2012">Version 1.0.0.M2 - May 12, 2012</a></li>
</ul>
</li>
<li><a href="#usage">Usage</a>
<ul class="sectlevel2">
<li><a href="#configuration">Configuration</a></li>
<li><a href="#dsl">Cache DSL</a></li>
</ul>
</li>
<li><a href="#_order">Order</a>
<ul class="sectlevel2">
<li><a href="#annotations">Annotations</a></li>
</ul>
</li>
<li><a href="#_service_method_caching">Service method caching</a></li>
<li><a href="#_controller_action_caching">Controller action caching</a></li>
<li><a href="#_if_you_can_t_use_annotations">If you can&#8217;t use annotations</a>
<ul class="sectlevel2">
<li><a href="#cacheManager">CacheManager</a></li>
</ul>
</li>
<li><a href="#cacheTags">GSP Cache Tags</a></li>
<li><a href="#grailsCacheAdminService">Grails Cache Admin Service</a>
<ul class="sectlevel2">
<li><a href="#clearingCaches">Clearing Caches</a></li>
</ul>
</li>
<li><a href="#implementation">Implementation Details</a></li>
<li><a href="#_cache_manager">Cache manager</a></li>
<li><a href="#_controller_caching">Controller caching</a>
<ul class="sectlevel2">
<li><a href="#_key_generation">Key generation</a></li>
<li><a href="#_fragment_caching">Fragment caching</a></li>
<li><a href="#_service_caching">Service caching</a></li>
<li><a href="#_dsl_parsing">DSL parsing</a></li>
</ul>
</li>
<li><a href="#reference">Reference</a>
<ul class="sectlevel2">
<li><a href="#ref-tags">Tags</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="introduction">Introduction To The Cache Plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Grails Cache plugin provides powerful and easy to use caching functionality to Grails applications and plugins.</p>
</div>
<div class="paragraph">
<p>The plugin makes significant use of the caching abstraction provided by Spring 3.1.  This user guide will focus on taking advantage of that functionality specifically within the context of a Grails application.  For information on the underlying abstraction see <a href="http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/cache.html">The Official Spring Documentation</a>.</p>
</div>
<div class="sect2">
<h3 id="changeLog">Change log</h3>

</div>
<div class="sect2">
<h3 id="_version_1_1_7_june_24_2014">Version 1.1.7 - June 24, 2014</h3>
<div class="paragraph">
<p>Requires Grails 2.3 or later</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_1_1_6_may_9_2014">Version 1.1.6 - May 9, 2014</h3>

</div>
<div class="sect2">
<h3 id="_version_1_1_5_april_25_2014">Version 1.1.5 - April 25, 2014</h3>

</div>
<div class="sect2">
<h3 id="_version_1_1_4_april_25_2014">Version 1.1.4 - April 25, 2014</h3>

</div>
<div class="sect2">
<h3 id="_version_1_1_3_april_24_2014">Version 1.1.3 - April 24, 2014</h3>

</div>
<div class="sect2">
<h3 id="_version_1_1_2_april_23_2014">Version 1.1.2 - April 23, 2014</h3>

</div>
<div class="sect2">
<h3 id="_version_1_1_1_july_3_2013">Version 1.1.1 - July 3, 2013</h3>

</div>
<div class="sect2">
<h3 id="_version_1_1_july_3_2013">Version 1.1 - July 3, 2013</h3>

</div>
<div class="sect2">
<h3 id="_version_1_0_1_october_28_2012">Version 1.0.1 - October 28, 2012</h3>

</div>
<div class="sect2">
<h3 id="_version_1_0_0_july_4_2012">Version 1.0.0 - July 4, 2012</h3>

</div>
<div class="sect2">
<h3 id="_version_1_0_0_rc1_may_22_2012">Version 1.0.0.RC1 - May 22, 2012</h3>

</div>
<div class="sect2">
<h3 id="_version_1_0_0_m2_may_12_2012">Version 1.0.0.M2 - May 12, 2012</h3>

</div>
</div>
</div>
<div class="sect1">
<h2 id="usage">Usage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The cache plugin adds Spring bean method call, controller action, and GSP page fragment and template caching to Grails applications. You configure one or more caches in <code>Config.groovy</code> and/or one or more Groovy artifact files with names ending in CacheConfig.groovy (for example FooCacheConfig.groovy, BarCacheConfig.groovy, and these can also be in packages) in <code>grails-app/conf</code> (or a subdirectory if in a package) using an implementation-specific DSL, and annotate methods (either in Spring beans (typically Grails services) or controllers) to be cached. You can also wrap GSP sections in cache tags and render cached templates.</p>
</div>
<div class="paragraph">
<p>There are three annotations; <a href="api/grails/plugin/cache/Cacheable.html">Cacheable</a>, <a href="api/grails/plugin/cache/CachePut.html">CachePut</a>, and <a href="api/grails/plugin/cache/CacheEvict.html">CacheEvict</a>. You use \`Cacheable to mark a method as one that should check the cache for a pre-existing result, or generate a new result and cache it. Use \`CachePut to mark a method as one that should always be evaluated and store its result in the cache regardless of existing cache values. And use \@CacheEvict to flush a cache (either fully or partially) to force the re-evaluation of previously cached results. The annotations are based on the annotations with the same name from Spring (<a href="http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/cache/annotation/Cacheable.html">Cacheable</a>, <a href="http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/cache/annotation/CachePut.html">CachePut</a>, and <a href="http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/" class="bare">http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/</a>
springframework/cache/annotation/CacheEvict.html[CacheEvict]) and support the same syntax but may support extended functionality in the future.</p>
</div>
<div class="paragraph">
<p>When using distributed caching (such as ehcache with distributed cache enabled, or redis with multiple instances of the application running against one redis instance), all classes that use annotation caching or XML caching should override the <code>hashCode</code> method. The hash code of the object with the method marked as being cacheable is included in the cache key, and the default <code>hashCode</code> implementation will vary each time the application is run. Overriding <code>hashCode</code> ensures that each instance of the applications will appropriately share cache keys.</p>
</div>
<div class="paragraph">
<p>This <em>core</em> cache plugin uses an in-memory implementation where the caches and cache manager are backed by a thread-safe <code>java.util.concurrent.ConcurrentMap</code>. This is fine for testing and possibly for low-traffic sites, but you should consider using one of the extension plugins if you need clustering, disk storage, persistence between restarts, and more configurability of features like time-to-live, maximum cache size, etc. Currently the extension plugins include <a href="http://grails.org/plugin/cache-ehcache">cache-ehcache</a>, <a href="http://grails.org/plugin/cache-redis">cache-redis</a>, and <a href="http://grails.org/plugin/cache-gemfire">cache-gemfire</a>.</p>
</div>
<div class="sect2">
<h3 id="configuration">Configuration</h3>
<div class="sect3">
<h4 id="_config_groovy_and_artifact_files">Config.groovy and artifact files</h4>
<div class="paragraph">
<p>The caching configuration can be specified in <code>Config.groovy</code> or \*CacheConfig.groovy files. Both approaches support <code>environments</code> blocks for environment-specific configuration, and you can specify the loading order, for example to support overriding values. One example of this might be a plugin that specifies a known load order, allowing you to choose a lower value in your file and override some or all of the plugin&#8217;s configuration.</p>
</div>
<div class="paragraph">
<p>There are a few configuration options for the plugin; these are specified in <code>Config.groovy</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33%;">
<col style="width: 33%;">
<col style="width: 33%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Property</strong></th>
<th class="tableblock halign-left valign-top"><strong>Default</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">grails.cache.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to enable the plugin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">grails.cache.proxyTargetClass</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">From the Spring Javadoc: "By default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">all proxies are created as JDK proxies. This may cause some problems if you are injecting objects as concrete classes rather than interfaces. To overcome this restriction you can set the <code>proxy-target-class</code> attribute to <code>true</code> which will result in class-based proxies being created."</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">grails.cache.aopOrder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordered.LOWEST_PRECEDENCE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">From the Spring docs: "Defines the order of the cache advice that is applied to beans annotated with \`Cacheable or \`CacheEvict. No specified ordering means that the AOP subsystem determines the order of the advice."</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">grails.cache.clearAtStartup</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to clear all caches at startup</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">grails.cache.keyGenerator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">customCacheKeyGenerator</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replace the key generator with your own. e.g. if your config is <code>grails.cache.keyGenerator="myCacheKeygen"</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">you would declare something like this <code>myCacheKeygen(my.company.MyKeyGen)</code> in your resources.groovy. Note: MyKeyGen must implement KeyGenerator.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">grails.cache.cacheManager</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="dsl">Cache DSL</h3>
<div class="paragraph">
<p>The cache implementation used by this plugin is very simple, so there aren&#8217;t many configuration options (compared to the Ehcache implementation for example, where you have fine-grained control over features like overflowing to disk, time-to-live settings, maximum size of caches, etc.) So there aren&#8217;t many supported options in the cache configuration DSL, although each plugin&#8217;s DSL parser is lenient and just logs warnings if you specify options that aren&#8217;t understood. This lets you share configurations between applications that use different plugins.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Since there is no way to configure "time to live" with this plugin, all cached items have no timeout and remain cached until either the JVM restarts (since the backing store is in-memory) or the cache is partially or fully cleared (by calling a method or action annotated with \@CacheEvict or programmatically).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You specify the cache configuration in <code>Config.groovy</code> under the <code>grails.cache.config</code> key, for example</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">grails.cache.config = {
   cache {
      name <span class="string"><span class="delimiter">'</span><span class="content">message</span><span class="delimiter">'</span></span>
   }
   cache {
      name <span class="string"><span class="delimiter">'</span><span class="content">maps</span><span class="delimiter">'</span></span>
   }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>or in a \*CacheConfig.groovy file in the <code>grails-app/conf</code> directory under the <code>config</code> key, for example</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">config = {
   cache {
      name <span class="string"><span class="delimiter">'</span><span class="content">message</span><span class="delimiter">'</span></span>
   }
   cache {
      name <span class="string"><span class="delimiter">'</span><span class="content">maps</span><span class="delimiter">'</span></span>
   }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Both of these will create two caches, one with name "message" and one with name "maps". You can also use attributes from other DSLs and they will be ignored, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">grails.cache.config = {
   cache {
      name <span class="string"><span class="delimiter">'</span><span class="content">message</span><span class="delimiter">'</span></span>
      eternal <span class="predefined-constant">false</span>
      overflowToDisk <span class="predefined-constant">true</span>
      maxElementsInMemory <span class="integer">10000</span>
      maxElementsOnDisk <span class="integer">10000000</span>
   }
   cache {
      name <span class="string"><span class="delimiter">'</span><span class="content">maps</span><span class="delimiter">'</span></span>
   }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This configuration results in the same caches as the simpler one.</p>
</div>
<div class="paragraph">
<p>If you want to limit the number of cache entries you have to change the default cache manager to <code>'GrailsConcurrentLinkedMapCacheManager'</code>. To specify the limit you can add the <code>maxCapacity</code> parameter to the cache config. Default value for <code>maxCapacity</code> is 10000.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">grails.cache.config = {
   cacheManager <span class="string"><span class="delimiter">'</span><span class="content">GrailsConcurrentLinkedMapCacheManager</span><span class="delimiter">'</span></span>
   cache {
      maxCapacity = <span class="integer">5000</span>
      name <span class="string"><span class="delimiter">'</span><span class="content">message</span><span class="delimiter">'</span></span>
   }
   cache {
      maxCapacity = <span class="integer">6000</span>
      name <span class="string"><span class="delimiter">'</span><span class="content">maps</span><span class="delimiter">'</span></span>
   }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_order">Order</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can configure your cache definitions to be loaded before or after others by setting the <code>order</code> attribute. Configurations with higher numbers are loaded later, so these can override previously-configured values, although there is no support for removing caches or cache attributes, only adding or overriding:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">order = <span class="integer">2000</span>

config = {
   cache {
      name <span class="string"><span class="delimiter">'</span><span class="content">message</span><span class="delimiter">'</span></span>
   }
   cache {
      name <span class="string"><span class="delimiter">'</span><span class="content">maps</span><span class="delimiter">'</span></span>
   }
}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="annotations">Annotations</h3>
<div class="paragraph">
<p>The <a href="api/grails/plugin/cache/Cacheable.html">Cacheable</a> and <a href="api/grails/plugin/cache/CacheEvict.html">CacheEvict</a> annotations provided by the plugin have counterparts with the same names provided by Spring. See the <a href="http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/cache.html">Spring documentation</a> for their usage and allowed syntax.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_service_method_caching">Service method caching</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Given this simple service, you can see that the <code>getMessage</code> method is configured to cache the results in the <code>"message"</code> cache. The <code>title</code> parameter will be used as the cache key; if there were multiple parameters they would be combined into the key, and you can always specify the key using the Spring SpEL support. The <code>save</code> method is configured as one that evicts elements from the cache. There is no need to clear the entire cache in this case; instead any previously cached item with the same <code>title</code> attribute will be replaced with the current <code>Message</code> instance.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">package</span> com.yourcompany

<span class="keyword">import</span> <span class="include">grails.plugin.cache.CacheEvict</span>
<span class="keyword">import</span> <span class="include">grails.plugin.cache.Cacheable</span>

<span class="type">class</span> <span class="class">MessageService</span> {

   <span class="annotation">@Cacheable</span>(<span class="string"><span class="delimiter">'</span><span class="content">message</span><span class="delimiter">'</span></span>, key=<span class="string"><span class="delimiter">'</span><span class="content">#title</span><span class="delimiter">'</span></span>)
   Message getMessage(<span class="predefined-type">String</span> title) {
      println <span class="string"><span class="delimiter">'</span><span class="content">Fetching message</span><span class="delimiter">'</span></span>
      Message.findByTitle(title)
   }

   <span class="annotation">@CachePut</span>(value=<span class="string"><span class="delimiter">'</span><span class="content">message</span><span class="delimiter">'</span></span>, key=<span class="string"><span class="delimiter">'</span><span class="content">#message.title</span><span class="delimiter">'</span></span>)
   <span class="type">void</span> save(Message message) {
      println <span class="string"><span class="delimiter">&quot;</span><span class="content">Saving message </span><span class="inline"><span class="inline-delimiter">$</span>message</span><span class="delimiter">&quot;</span></span>
      message.save()
   }

   <span class="annotation">@CacheEvict</span>(value=<span class="string"><span class="delimiter">'</span><span class="content">message</span><span class="delimiter">'</span></span>, key=<span class="string"><span class="delimiter">'</span><span class="content">#message.title</span><span class="delimiter">'</span></span>)
   <span class="type">void</span> delete(Message message) {
      println <span class="string"><span class="delimiter">&quot;</span><span class="content">Deleting message </span><span class="inline"><span class="inline-delimiter">$</span>message</span><span class="delimiter">&quot;</span></span>
      message.delete()
   }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that you could also use \`CacheEvict for the `save@ method, which would remove the old cached value but not cache the current value.</p>
</div>
<div class="paragraph">
<p>This service works with the <code>Message</code> domain class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">package</span> com.yourcompany

<span class="type">class</span> <span class="class">Message</span> <span class="directive">implements</span> <span class="predefined-type">Serializable</span> {

   <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="type">long</span> serialVersionUID = <span class="integer">1</span>

   <span class="predefined-type">String</span> title
   <span class="predefined-type">String</span> body

   <span class="predefined-type">String</span> toString() {
      <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">$</span>title</span><span class="content">: </span><span class="inline"><span class="inline-delimiter">$</span>body</span><span class="delimiter">&quot;</span></span>
   }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that for in-memory cache implementations it&#8217;s not required that the objects being cached implement <code>Serializable</code> but if you use an implementation that uses Java serialization (for example the Redis plugin, or the Ehcache plugin when you have configured clustered caching) you must implement <code>Serializable</code>.</p>
</div>
<div class="paragraph">
<p>To test this out, be sure to define a <code>"message"</code> cache in <code>Config.groovy</code> and save and retrieve <code>Message</code> instances using the service. There are <code>println</code> statements but you can also turn on SQL logging to watch the database access that&#8217;s needed to retrieve instances that aren&#8217;t cached yet, and you shouldn&#8217;t see database access for cached values.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_controller_action_caching">Controller action caching</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In addition to caching Spring bean return values, you can also cache responses for web requests using the same annotations. Note that since caching is implemented only for methods (Spring creates a proxy for your cached class in the same way that it creates a transactional proxy to start, commit, and roll back transactions for transactional Grails services) so you cannot annotate action closures. This doesn&#8217;t fail silently; your controller class will not compile since the annotations are only allowed on the class or on methods; since Closures are fields, the annotations aren&#8217;t valid.</p>
</div>
<div class="paragraph">
<p>For example, in this controller the <code>lookup</code> action will use the <code>"message"</code> cache, so the first time you call the action you will see the output from the <code>println</code> statement but subsequent calls won&#8217;t execute and you&#8217;ll see the cached response instead. When you call the <code>evict</code> action the entire cache will be cleared (because of the <code>allEntries=true</code> attribute):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">package</span> com.yourcompany

<span class="keyword">import</span> <span class="include">grails.plugin.cache.CacheEvict</span>
<span class="keyword">import</span> <span class="include">grails.plugin.cache.Cacheable</span>

<span class="type">class</span> <span class="class">TestController</span> {

   <span class="annotation">@Cacheable</span>(<span class="string"><span class="delimiter">'</span><span class="content">message</span><span class="delimiter">'</span></span>)
   <span class="keyword">def</span> <span class="function">lookup</span>() {
      <span class="comment">// perform some expensive operations</span>
      println <span class="string"><span class="delimiter">&quot;</span><span class="content">called 'lookup'</span><span class="delimiter">&quot;</span></span>
   }

   <span class="annotation">@CacheEvict</span>(value=<span class="string"><span class="delimiter">'</span><span class="content">message</span><span class="delimiter">'</span></span>, allEntries=<span class="predefined-constant">true</span>)
   <span class="keyword">def</span> <span class="function">evict</span>() {
      println <span class="string"><span class="delimiter">&quot;</span><span class="content">called 'evict'</span><span class="delimiter">&quot;</span></span>
   }
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Caching of dynamically scaffolded actions is not supported.  If the scaffolding templates are installed with <code>grails install-templates</code> and cache related annotations are added to methods in the controller template, those annotations will only be relevant to generated scaffolding, not dynamic scaffolding.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_if_you_can_t_use_annotations">If you can&#8217;t use annotations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Annotations aren&#8217;t required, they&#8217;re just the most convenient approach for configuration. If you like you can define caching semantics in <code>grails-app/conf/spring/resources.groovy</code> (or <code>resources.xml</code> if you like XML). This is also useful if you want to apply caching but can&#8217;t edit the code to add annotations (for example if you have compiled classes in a jar).</p>
</div>
<div class="paragraph">
<p>This Spring BeanBuilder DSL code will configure the same behavior as the two annotations in the example service class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">beans = {

   xmlns <span class="key">cache</span>: <span class="string"><span class="delimiter">'</span><span class="content">http://www.springframework.org/schema/cache</span><span class="delimiter">'</span></span>
   xmlns <span class="key">aop</span>: <span class="string"><span class="delimiter">'</span><span class="content">http://www.springframework.org/schema/aop</span><span class="delimiter">'</span></span>

   cache.<span class="string"><span class="delimiter">'</span><span class="content">advice</span><span class="delimiter">'</span></span>(<span class="key">id</span>: <span class="string"><span class="delimiter">'</span><span class="content">messageServiceCacheAdvice</span><span class="delimiter">'</span></span>,
                  <span class="string"><span class="delimiter">'</span><span class="content">cache-manager</span><span class="delimiter">'</span></span>: <span class="string"><span class="delimiter">'</span><span class="content">grailsCacheManager</span><span class="delimiter">'</span></span>) {
      caching(<span class="key">cache</span>: <span class="string"><span class="delimiter">'</span><span class="content">message</span><span class="delimiter">'</span></span>) {
         cacheable(<span class="key">method</span>: <span class="string"><span class="delimiter">'</span><span class="content">getMessage</span><span class="delimiter">'</span></span>)
         <span class="string"><span class="delimiter">'</span><span class="content">cache-evict</span><span class="delimiter">'</span></span>(<span class="key">method</span>: <span class="string"><span class="delimiter">'</span><span class="content">save</span><span class="delimiter">'</span></span>, <span class="key">key</span>: <span class="string"><span class="delimiter">'</span><span class="content">#message.title</span><span class="delimiter">'</span></span>)
      }
   }

   <span class="comment">// apply the cacheable behavior to MessageService</span>
   aop.config {
      advisor(<span class="string"><span class="delimiter">'</span><span class="content">advice-ref</span><span class="delimiter">'</span></span>: <span class="string"><span class="delimiter">'</span><span class="content">messageServiceCacheAdvice</span><span class="delimiter">'</span></span>,
              <span class="key">pointcut</span>: <span class="string"><span class="delimiter">'</span><span class="content">execution(* com.yourcompany.MessageService.*(..))</span><span class="delimiter">'</span></span>)
   }
}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="cacheManager">CacheManager</h3>
<div class="paragraph">
<p>The plugin registers an instance of the <a href="http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/cache/CacheManager.html">CacheManager</a> iterface as the <code>grailsCacheManager</code> Spring bean, so it&#8217;s easy to access using dependency injection.</p>
</div>
<div class="paragraph">
<p>The most common method you would call on the <code>grailsCacheManager</code> is <code>getCache(String name)</code> to access a <a href="http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/cache/Cache.html">Cache</a> instance programmatically. This shouldn&#8217;t be needed often however. From the <code>Cache</code> instance you can also access the underlying cache implementation using <code>cache.getNativeCache()</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cacheTags">GSP Cache Tags</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The plugin provides GSP tags which are useful for caching the result of evaluating sections of markup.  These tags allow for the result of evaluating sections of markup to be cached so subsequent renderings of the same markup do not have to result in the markup being evaluated again.  These tags support automatic cache eviction with the use of a time to live (ttl) attribute.</p>
</div>
<div class="paragraph">
<p>See the documentation for the <a href="#ref-tags-block">block</a> and <a href="#ref-tags-render">render</a> tags for more details.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="grailsCacheAdminService">Grails Cache Admin Service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The plugin provides a service named <code>GrailsCacheAdminService</code> which supports various methods for administering caches.</p>
</div>
<div class="sect2">
<h3 id="clearingCaches">Clearing Caches</h3>
<div class="paragraph">
<p>There are methods in GrailsCacheAdminService for clearing the caches used by the <a href="#ref-tags-block">block</a> and <a href="#ref-tags-render">render</a> tags.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">class</span> <span class="class">ReportingController</span> {

    def grailsCacheAdminService

    def report() {
        <span class="comment">// clear the cache used by the blocks tag...</span>
        grailsCacheAdminService.clearBlocksCache()

        <span class="comment">// clear the cache used by the render tag...</span>
        grailsCacheAdminService.clearTemplatesCache()

        ...
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="implementation">Implementation Details</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All of the plugin&#8217;s classes are designed for extensibility; the classes are all public, and fields and methods are mostly public or protected. Consider subclassing existing classes to reuse as much as possible instead of completely rewriting them.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_cache_manager">Cache manager</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The core cache plugin registers a <code>grailsCacheManager</code> Spring bean, and the extension plugins replace this bean with one that creates and manages caches for that implementation. The default implementation is an instance of <code>grails.plugin.cache.GrailsConcurrentMapCacheManager</code> which uses <code>grails.plugin.cache.GrailsConcurrentMapCache</code> as its cache implementation. It uses a <code>java.util.concurrent.ConcurrentHashMap</code> to store cached values.</p>
</div>
<div class="paragraph">
<p>You can customize the cache manager by replacing the <code>grailsCacheManager</code> Spring bean in <code>resources.groovy</code> with your own; either subclass <code>GrailsConcurrentMapCacheManager</code> (e.g. to override the <code>createConcurrentMapCache()</code> method) or by implementing the <code>grails.plugin.cache.GrailsCacheManager</code> interface.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_controller_caching">Controller caching</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The controller caching is implemented with a filter registered as <code>grailsCacheFilter</code> in <code>web.xml</code> and it is backed by the Spring bean of the same name. The implementation class is <code>grails.plugin.cache.web.filter.simple.MemoryPageFragmentCachingFilter</code>.</p>
</div>
<div class="paragraph">
<p>The content that is cached is the response generated by GSP (or directly by the controller if a response is rendered programmatically) before Sitemesh applies its template(s).</p>
</div>
<div class="sect2">
<h3 id="_key_generation">Key generation</h3>
<div class="paragraph">
<p>Controller caching uses a key generator, a class that implements the <code>grails.plugin.cache.web.filter.WebKeyGenerator</code> interface (by default a <code>grails.plugin.cache.web.filter.DefaultWebKeyGenerator</code>). This is registered as the <code>webCacheKeyGenerator</code> Spring bean, so customizing the key generation is simply a matter of subclassing <code>DefaultWebKeyGenerator</code> or re-implementing the interface and registering your own <code>webCacheKeyGenerator</code> bean in <code>resources.groovy</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_fragment_caching">Fragment caching</h3>
<div class="paragraph">
<p>You can cache partial GSP page sections with the <code>&lt;cache:block&gt;</code> tag. You can specify a key when using this tag but it&#8217;s in general unnecessary. This is because the block will be rendered with its own Closure, and the default key is the full closure class name. This is unique since the closures aren&#8217;t re-used; for example these two blocks will be cached independently, even in the same GSP:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">&lt;<span class="key">cache</span>:block&gt;
foo
&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">cache:block&gt;</span></span><span class="error">
</span>
&lt;<span class="key">cache</span>:block&gt;
bar
&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">cache:block&gt;</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>You can cache the content of templates with the <code>&lt;cache:render&gt;</code> tag. You can specify a key when using this tag but like the <code>block</code> tag, it&#8217;s in general unnecessary because the default key is the full template class name.</p>
</div>
</div>
<div class="sect2">
<h3 id="_service_caching">Service caching</h3>
<div class="paragraph">
<p>You can cache the return value of a service method by annotating it with <code>Cacheable</code>.</p>
</div>
<div class="sect3">
<h4 id="_key_generation_2">Key generation</h4>
<div class="paragraph">
<p>The default implementation of the <code>org.springframework.cache.interceptor.KeyGenerator</code> used to generate keys for service method calls is <code>org.springframework.cache.interceptor.DefaultKeyGenerator</code>. This is only used if there is no <code>key</code> attribute specified in the annotation for the method. It generates a numeric key, with the following logic:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="directive">public</span> <span class="predefined-type">Object</span> generate(<span class="predefined-type">Object</span> target, <span class="predefined-type">Method</span> method, <span class="predefined-type">Object</span>... params) {
   <span class="keyword">if</span> (params.length == <span class="integer">1</span>) {
      <span class="keyword">return</span> (params&lt;&lt;<span class="integer">0</span>&gt;&gt; == <span class="predefined-constant">null</span> ? <span class="integer">53</span> : params&lt;&lt;<span class="integer">0</span>&gt;&gt;);
   }

   <span class="keyword">if</span> (params.length == <span class="integer">0</span>) {
      <span class="keyword">return</span> <span class="integer">0</span>;
   }

   <span class="type">int</span> hashCode = <span class="integer">17</span>;
   <span class="keyword">for</span> (<span class="predefined-type">Object</span> object : params) {
      hashCode = <span class="integer">31</span> * hashCode + (object == <span class="predefined-constant">null</span> ? <span class="integer">53</span> : object.hashCode());
   }
   <span class="keyword">return</span> hashCode;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is very generic and somewhat risky, since two no-arg methods that use the same cache will store values under the same key (0), and different methods with similar signatures can easily generate the same key for different return values. So it&#8217;s best to either specify the <code>key</code> attribute in the annotation, or use separate caches.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_dsl_parsing">DSL parsing</h3>
<div class="paragraph">
<p>The cache plugin&#8217;s DSL is very basic; only the cache name can be specified. But you could extend it (for example if you customized the cache or cache manager implementation, although a new plugin would probably make more sense) by replacing the <code>grailsCacheConfigLoader</code> Spring bean in <code>resources.groovy</code>. The default implementation is a <code>grails.plugin.cache.ConfigLoader</code>.</p>
</div>
<div class="sect3">
<h4 id="_annotation_spel_expression_evaluator">Annotation SpEL expression evaluator</h4>
<div class="paragraph">
<p>You can extend or customize what is SpEL expressions are supported by re-defining the <code>webExpressionEvaluator</code> Spring bean in <code>resources.groovy</code>. The default implementation is an instance of <code>grails.plugin.cache.web.filter.ExpressionEvaluator</code>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="reference">Reference</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="ref-tags">Tags</h3>
<div class="sect3">
<h4 id="ref-tags-block">block</h4>
<div class="sect4">
<h5 id="_block">block</h5>

</div>
<div class="sect4">
<h5 id="_description">Description</h5>
<div class="paragraph">
<p>Renders a block of markup and caches the result so that the next time the same block is rendered it doesn&#8217;t have to be evaluated again.  Optionally, a key may be provided which can be helpful if the cached content is different per user, for example.</p>
</div>
<div class="paragraph">
<p>Note that the key&#8217;s namespace is confined to this particular cached block.  This means that if there are 2 separate blocks which share the same key value, the 2 will not collide with each other.  Each cached block has its own set of keys.</p>
</div>
</div>
<div class="sect4">
<h5 id="_examples">Examples</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;cache:block&gt;</span>
    <span class="comment">&lt;!-- Any valid markup may be included here, including dynamic expressions, invoking other tags, etc.... --&gt;</span>
<span class="tag">&lt;/cache:block&gt;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;cache:block</span> <span class="attribute-name">key</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${currentUser.id}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="comment">&lt;!-- Any valid markup may be included here, including dynamic expressions, invoking other tags, etc.... --&gt;</span>
<span class="tag">&lt;/cache:block&gt;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;cache:block</span> <span class="attribute-name">key</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${currentUser.id}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">ttl</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${60*60*24*7}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="comment">&lt;!-- Any valid markup may be included here, including dynamic expressions, invoking other tags, etc.... --&gt;</span>
<span class="tag">&lt;/cache:block&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_attributes">Attributes</h5>
<div class="ulist">
<ul>
<li>
<p><code>key</code> (optional) - An optional key that may be provided to allow for different instances of the block to be held in the cache, presumably with different content.</p>
</li>
<li>
<p><code>ttl</code> (optional) - An optional ttl (seconds) may be provided to allow the blocks to automatically evict a specified number of seconds after first insertion.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ref-tags-render">render</h4>
<div class="sect4">
<h5 id="_render">render</h5>

</div>
<div class="sect4">
<h5 id="_description_2">Description</h5>
<div class="paragraph">
<p>Renders a GSP template and caches the result so that the next time the same template is rendered it doesn&#8217;t have to be evaluated again.  Optionally, a key may be provided which can be helpful if the cached content is different per user, for example.</p>
</div>
<div class="paragraph">
<p>This tag behaves just like the <code>g:render</code> tag provided by Grails except this one caches the rendered result so the template doesn&#8217;t have to be re-evaluated each time it is rendered.</p>
</div>
<div class="paragraph">
<p>By default the key used in the cache is the path to the template.  If the same template is rendered multiple times with a different model, an explicit key should be provided, otherwise the separate invocations (with different models) will share the same cache entry.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;cache:render</span> <span class="attribute-name">template</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">myTemplate</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">model</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">[user: currentUser]</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">key</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${currentUser.id}</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the key&#8217;s namespace is confined to a particular template.  This means that if there are 2 separate GSP templates cached with the same key value, the 2 will not collide with each other.  Each cached GSP template has its own set of keys.</p>
</div>
</div>
<div class="sect4">
<h5 id="_examples_2">Examples</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;cache:render</span> <span class="attribute-name">template</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">myTemplate</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">model</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">[name: 'Some Value']</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;cache:render</span> <span class="attribute-name">template</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">myTemplate</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">model</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">[name: 'Some Value']</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">key</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${currentUser.id}</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;cache:render</span> <span class="attribute-name">template</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">myTemplate</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">model</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">[name: 'Some Value']</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">key</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${currentUser.id}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">ttl</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${60*60*24*7}</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_attributes_2">Attributes</h5>
<div class="ulist">
<ul>
<li>
<p><code>template</code> (required) - The name of the template to apply</p>
</li>
<li>
<p><code>key</code> (optional) - An optional key that may be provided to allow for different instances of the rendered template to be held in the cache, presumably with different content.</p>
</li>
<li>
<p><code>contextPath</code> (optional) - the context path to use (relative to the application context path). Defaults to "" or path to the plugin for a plugin view or template.</p>
</li>
<li>
<p><code>bean</code> (optional) - The bean to apply the template against</p>
</li>
<li>
<p><code>model</code> (optional) - The model to apply the template against as a <code>java.util.Map</code></p>
</li>
<li>
<p><code>collection</code> (optional) - A collection of model objects to apply the template to</p>
</li>
<li>
<p><code>var</code> (optional) - The variable name of the bean to be referenced in the template</p>
</li>
<li>
<p><code>plugin</code> (optional) - The plugin to look for the template in</p>
</li>
<li>
<p><code>ttl</code> (optional) - An optional ttl (seconds) may be provided to allow the blocks to automatically evict a specified number of seconds after first insertion.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See the documentation for the core <code>g.render</code> tag for details on each of the optional attributes.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2016-06-23 01:56:15 UTC
</div>
</div>
</body>
</html>